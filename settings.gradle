pluginManagement {
    repositories {
        google()
        mavenCentral()
        gradlePluginPortal()
    }
}
dependencyResolutionManagement {
    repositoriesMode.set(RepositoriesMode.FAIL_ON_PROJECT_REPOS)
    repositories {
        google()
        mavenCentral()
        // TODO remove after jsonschemafriend is republished https://github.com/jimblackler/jsonschemafriend/issues/124
        maven {
            url 'https://maven.scijava.org/content/repositories/public'
            content {
                includeGroup 'net.jimblackler.jsonschemafriend'
            }
        }
        maven { url "https://jitpack.io" }
        flatDir { dirs "${rootProject.projectDir}/core/gopenpgp/libs" }
    }
}

rootProject.name = "Passbolt"

projectModule "app"

coreModule "architecture"
coreModule "accounts"
coreModule "networking"
coreModule "gopenpgp"
coreModule "coreui"
coreModule "common"
coreModule "navigation"
coreModule "qrscan"
coreModule "featureflags"
coreModule "database"
coreModule "resources"
coreModule "security"
coreModule "users"
coreModule "logger"
coreModule "localization"
coreModule "folders"
coreModule "groups"
coreModule "commontest"
coreModule "secrets"
coreModule "passwordgenerator"
coreModule "fulldatarefresh"
coreModule "resourcetypes"
coreModule "notifications"
coreModule "autofill"
coreModule "inappreview"
coreModule "envinfo"
coreModule "idlingresource"
coreModule "otpcore"
coreModule "tags"
coreModule "rbac"
coreModule "policies"
coreModule "metadata"
coreModule "encryptedstorage"
coreModule "authenticationcore"
coreModule "preferences"
coreModule "passphrasememorycache"

featureModule "startup"
featureModule "setup"
featureModule "autofillresources"
featureModule "authentication"
featureModule "main"
featureModule "home"
featureModule "settings"
featureModule "resourcedetails"
featureModule "accountdetails"
featureModule "permissions"
featureModule "locationdetails"
featureModule "createfolder"
featureModule "folderdetails"
featureModule "groupdetails"
featureModule "tagsdetails"
featureModule "featureflagserror"
featureModule "helpmenu"
featureModule "logs"
featureModule "resourcemoremenu"
featureModule "transferaccounttoanotherdevice"
featureModule "otp"
featureModule "resourcepicker"
featureModule "otpeditmoremenu"
featureModule "otpcreatemoremenu"
featureModule "scanotp"
featureModule "otpmoremenu"
featureModule "createotpmanually"
featureModule "createresourcemenu"
featureModule "resourceform"

serviceModule "passboltapi"
serviceModule "linksapi"
serviceModule "pwnedpasswordsapi"

domainModule "dto"
domainModule "ui"
domainModule "mappers"
domainModule "entity"
domainModule "serializers"
domainModule "supportedresourcetypes"
domainModule "jsonmodel"

def featureModule(String name) {
    projectModule(name, "features/")
}

def coreModule(String name) {
    projectModule(name, "core/")
}

def serviceModule(String name) {
    projectModule(name, "services/")
}

def domainModule(String name) {
    projectModule(name, "domain/")
}

def projectModule(String name, String directory = "") {
    include ":$name"
    project(":$name").projectDir = file(directory + name)
}
